The reasoning layer of the AMIGO ROS based software consists of a set of finite state machines (robot\_smach\_states1) that build upon the robotâ€™s skill layer (robot\_skills2). These state machines are useful if you want the robot to execute some complex plan, where all possible states and state transitions can be described explicitly. 
The implementation is done with use of the open-source SMACH3 package. SMACH is a task-level architecture for rapidly creating complex robot behaviours. At its core, SMACH is a ROS-independent Python library to build hierarchical state machines. SMACH is a new library that takes advantage of very old concepts in order to quickly create robust robot behaviour with maintainable and modular code.